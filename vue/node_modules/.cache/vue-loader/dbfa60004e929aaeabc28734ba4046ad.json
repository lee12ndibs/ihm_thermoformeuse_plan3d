{"remainingRequest":"/home/romain/Bureau/Projet/Thermoformeuse/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/romain/Bureau/Projet/Thermoformeuse/vue/src/components/Graphe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/romain/Bureau/Projet/Thermoformeuse/vue/src/components/Graphe.vue","mtime":1583073423889},{"path":"/home/romain/Bureau/Projet/Thermoformeuse/vue/node_modules/cache-loader/dist/cjs.js","mtime":1583073422949},{"path":"/home/romain/Bureau/Projet/Thermoformeuse/vue/node_modules/babel-loader/lib/index.js","mtime":1583073422926},{"path":"/home/romain/Bureau/Projet/Thermoformeuse/vue/node_modules/vuetify-loader/lib/loader.js","mtime":1583073423699},{"path":"/home/romain/Bureau/Projet/Thermoformeuse/vue/node_modules/cache-loader/dist/cjs.js","mtime":1583073422949},{"path":"/home/romain/Bureau/Projet/Thermoformeuse/vue/node_modules/vue-loader/lib/index.js","mtime":1583073423672}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd2dWUtbGluZS1jaGFydCcsCiAgZGF0YTogKCkgPT4gKHsKICAgICAgZGF0YTogWzE0MCwgMTA4LCAyODAwLCAxNzAsIDIzMCwgMjQyXSwKICAgICAgdGltZXI6IHVuZGVmaW5lZAogICAgICAvLyBsaW5lOiAnJywKICAgIH0pLAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZUdyYXBoKCk7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5jaGFuZ2VEYXRhLCAxMDAwKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24oKXsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgfSwKICB3YXRjaDp7CiAgICBkYXRhOiBmdW5jdGlvbigpewogICAgICBjb25zb2xlLmxvZygnYScpOwogICAgICAvLyB0aGlzLmNyZWF0ZUdyYXBoKCk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlRGF0YSgpewogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpOwogICAgICAvLyBmb3IgKGxldCBpID0gMDsgaTx0aGlzLmRhdGEubGVuZ3RoOyBpKyspewogICAgICAvLyAgIHRoaXMuZGF0YVtpXSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMTAwKTsKICAgICAgLy8gfQogICAgICB0aGlzLmRhdGEgPSBbTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDIwMCkgKyAxMDApLE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAyMDApICsgMTAwKSxNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMjAwKSArIDEwMCksTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDIwMCkgKyAxMDApLE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAyMDApICsgMTAwKSxNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMjAwKSArIDEwMCldOwoKICAgIH0sCiAgICBnZXRTY2FsZXMoKSB7CiAgICAgIGNvbnN0IHggPSBkMy5zY2FsZVRpbWUoKS5yYW5nZShbMCwgNDMwXSk7CiAgICAgIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFsyMTAsIDBdKTsKICAgICAgZDMuYXhpc0xlZnQoKS5zY2FsZSh4KTsKICAgICAgZDMuYXhpc0JvdHRvbSgpLnNjYWxlKHkpOwogICAgICB4LmRvbWFpbihkMy5leHRlbnQodGhpcy5kYXRhLCAoZCwgaSkgPT4gaSkpOwogICAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSwgZCA9PiBkKV0pOwogICAgICByZXR1cm4geyB4LCB5IH07CiAgICB9LAogICAgY3JlYXRlR3JhcGgoKSB7CiAgICAgIHZhciBMYXJnZXVyX2dyYXBoZSA9IDUwMCwgSGF1dGV1cl9ncmFwaGUgPSA0MDAsIEVzcGFjZW1lbnRfYmFycmVzID0gMTA7CiAgICAgIHZhciBMYXJnZXVyX2JhcnJlcyA9IChMYXJnZXVyX2dyYXBoZSAvIHRoaXMuZGF0YS5sZW5ndGgpOwoKICAgICAgdmFyIG1hcmdlWCA9IDIwOwogICAgICAvLyB2YXIgbWFyZ2VZID0gMTA7CgogICAgICB2YXIgQXhlWSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKHRoaXMuZGF0YSkucmFuZ2UoWzAsSGF1dGV1cl9ncmFwaGVdKTsKCiAgICAgIHZhciBBeGVYID0gZDMuc2NhbGVQb2ludCgpLmRvbWFpbihbIlpvbmUgMSIsIlpvbmUgMiIsIlpvbmUgMyIsIlpvbmUgNCIsIlpvbmUgNSIsIlpvbmUgNiJdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yYW5nZShbMCxMYXJnZXVyX2dyYXBoZV0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhZGRpbmcoLjQ1KTsKCgogICAgICAvKkZBVVQgUVVFIEpFIFRST1VWRSBMRSBNT1lFTiBERSBHw4lOw4lSRVIgTEEgQkFMSVNFIFNWRyBERVBVSVMgTEUgSlMgKGMnZXN0IHVuIHRydWMgc3DDqWNpYWwgYXBwYXJlbW1lbnQpKi8KICAgICAgLyogQydlc3QgdW4gZMOpYnV0IC4uLgogICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAic3ZnIik7CiAgICAgIHMuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJjaGFydCIpOwogICAgICBzLmlubmVySFRNTCA9IGRhdGE7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocyk7Ki8KCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoJ3N2ZycpCiAgICAgICAgICAuYXR0cigid2lkdGgiLCBMYXJnZXVyX2dyYXBoZSkKICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCBIYXV0ZXVyX2dyYXBoZSk7CgoKICAgICAgc3ZnLnNlbGVjdEFsbCgicmVjdCIpCiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpCiAgICAgICAgICAuZW50ZXIoKQogICAgICAgICAgLmFwcGVuZCgicmVjdCIpCiAgICAgICAgICAuYXR0cigiZmlsbCIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgaWYgKGQgPD0gMzAwKSB7CiAgICAgICAgICAgICAgcmV0dXJuICJzdGVlbGJsdWUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAicmVkIjsKICAgICAgICAgIH0pCiAgICAgICAgICAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgcmV0dXJuIEhhdXRldXJfZ3JhcGhlIC0gZDsKICAgICAgICAgIH0pCiAgICAgICAgICAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiBkIC0gbWFyZ2VYOwogICAgICAgICAgfSkKICAgICAgICAgIC5hdHRyKCJ3aWR0aCIsIExhcmdldXJfYmFycmVzIC0gRXNwYWNlbWVudF9iYXJyZXMpCiAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gW0xhcmdldXJfYmFycmVzICogaSwgMF07CiAgICAgICAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIisgdHJhbnNsYXRlICsiKSI7CiAgICAgICAgICB9KTsKCgogICAgICBzdmcKICAgICAgLmFwcGVuZCgiZyIpCiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KEF4ZVkpKTsKCiAgICAgIHN2ZwogICAgICAuYXBwZW5kKCJnIikKICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiKyhIYXV0ZXVyX2dyYXBoZS1tYXJnZVgpKyIpIikKICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbShBeGVYKSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Graphe.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Graphe.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <svg width=\"500\" height=\"270\">\n    <g style=\"transform: translate(0, 10px)\">\n    </g>\n  </svg>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nexport default {\n  name: 'vue-line-chart',\n  data: () => ({\n      data: [140, 108, 2800, 170, 230, 242],\n      timer: undefined\n      // line: '',\n    }),\n  mounted() {\n    this.createGraph();\n    this.timer = setInterval(this.changeData, 1000);\n  },\n  destroyed: function(){\n    clearInterval(this.timer);\n  },\n  watch:{\n    data: function(){\n      console.log('a');\n      // this.createGraph();\n    },\n  },\n  methods: {\n    changeData(){\n      console.log(this.data);\n      // for (let i = 0; i<this.data.length; i++){\n      //   this.data[i] = Math.floor((Math.random() * 100) + 100);\n      // }\n      this.data = [Math.floor((Math.random() * 200) + 100),Math.floor((Math.random() * 200) + 100),Math.floor((Math.random() * 200) + 100),Math.floor((Math.random() * 200) + 100),Math.floor((Math.random() * 200) + 100),Math.floor((Math.random() * 200) + 100)];\n\n    },\n    getScales() {\n      const x = d3.scaleTime().range([0, 430]);\n      const y = d3.scaleLinear().range([210, 0]);\n      d3.axisLeft().scale(x);\n      d3.axisBottom().scale(y);\n      x.domain(d3.extent(this.data, (d, i) => i));\n      y.domain([0, d3.max(this.data, d => d)]);\n      return { x, y };\n    },\n    createGraph() {\n      var Largeur_graphe = 500, Hauteur_graphe = 400, Espacement_barres = 10;\n      var Largeur_barres = (Largeur_graphe / this.data.length);\n\n      var margeX = 20;\n      // var margeY = 10;\n\n      var AxeY = d3.scaleLinear().domain(this.data).range([0,Hauteur_graphe]);\n\n      var AxeX = d3.scalePoint().domain([\"Zone 1\",\"Zone 2\",\"Zone 3\",\"Zone 4\",\"Zone 5\",\"Zone 6\"])\n                                .range([0,Largeur_graphe])\n                                .padding(.45);\n\n\n      /*FAUT QUE JE TROUVE LE MOYEN DE GÉNÉRER LA BALISE SVG DEPUIS LE JS (c'est un truc spécial apparemment)*/\n      /* C'est un début ...\n      var s = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      s.setAttribute(\"class\", \"chart\");\n      s.innerHTML = data;\n      document.body.appendChild(s);*/\n\n      var svg = d3.select('svg')\n          .attr(\"width\", Largeur_graphe)\n          .attr(\"height\", Hauteur_graphe);\n\n\n      svg.selectAll(\"rect\")\n          .data(this.data)\n          .enter()\n          .append(\"rect\")\n          .attr(\"fill\", function(d) {\n            if (d <= 300) {\n              return \"steelblue\";\n            }\n            return \"red\";\n          })\n          .attr(\"y\", function(d) {\n               return Hauteur_graphe - d;\n          })\n          .attr(\"height\", function(d) {\n              return d - margeX;\n          })\n          .attr(\"width\", Largeur_barres - Espacement_barres)\n          .attr(\"transform\", function (d, i) {\n              var translate = [Largeur_barres * i, 0];\n              return \"translate(\"+ translate +\")\";\n          });\n\n\n      svg\n      .append(\"g\")\n      .call(d3.axisLeft(AxeY));\n\n      svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,\"+(Hauteur_graphe-margeX)+\")\")\n      .call(d3.axisBottom(AxeX));\n    },\n  },\n};\n</script>\n\n<style scoped>\n  svg{\n    margin: 25px;\n  }\n  path{\n    fill: none;\n    stroke: #76BF8A;\n    stroke-width: 3px;\n  }\n</style>\n"]}]}